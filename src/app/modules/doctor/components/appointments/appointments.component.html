<div class="p-8 bg-gradient-to-br from-gray-100 to-white min-h-screen">
  <!-- Header -->
  <div class="bg-white rounded-lg shadow-xl p-6 flex justify-between items-center mb-8">
    <h1 class="text-3xl font-extrabold text-gray-800 tracking-wide">Appointments</h1>
    <div class="relative">
      <input
        type="text"
        [(ngModel)]="searchQuery"
        (input)="searchAppointments()"
        placeholder="Search by patient or date"
        class="px-4 py-2 rounded-full border border-gray-300 shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500"
      />
      <i class="bi bi-search absolute top-3 right-4 text-gray-500"></i>
    </div>
  </div>

  <!-- Appointments Table -->
  <div class="bg-white rounded-xl shadow-lg p-6">
    <table class="w-full text-left border-collapse">
      <thead>
      <tr>
        <th
          class="border-b-2 py-4 px-6 text-gray-600 font-semibold cursor-pointer hover:text-green-600 transition-colors"
          (click)="toggleSort('patient')"
        >
          Patient
        </th>
        <th
          class="border-b-2 py-4 px-6 text-gray-600 font-semibold cursor-pointer hover:text-green-600 transition-colors"
          (click)="toggleSort('date')"
        >
          Date
        </th>
        <th
          class="border-b-2 py-4 px-6 text-gray-600 font-semibold cursor-pointer hover:text-green-600 transition-colors"
          (click)="toggleSort('time')"
        >
          Time
        </th>
        <th class="border-b-2 py-4 px-6 text-gray-600 font-semibold">Status</th>
        <th class="border-b-2 py-4 px-6 text-gray-600 font-semibold">Actions</th>
      </tr>
      </thead>
      <tbody>
      <tr
        *ngFor="let appointment of paginatedAppointments"
        class="hover:bg-green-50 transition"
      >
        <td class="py-4 px-6 text-gray-800 font-medium">{{ appointment.patient }}</td>
        <td class="py-4 px-6 text-gray-800">{{ appointment.date }}</td>
        <td class="py-4 px-6 text-gray-800">{{ appointment.time }}</td>
        <td
          class="py-4 px-6 text-center"
          [ngClass]="{
              'text-green-500 font-bold': appointment.status === 'Upcoming',
              'text-gray-500': appointment.status === 'Completed'
            }"
        >
          {{ appointment.status }}
        </td>
        <td class="py-4 px-6 text-center">
          <button
            (click)="openDetailsModal(appointment)"
            class="px-4 py-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition shadow-lg"
          >
            View Details
          </button>
        </td>
      </tr>
      </tbody>
    </table>

    <!-- Pagination -->
    <div class="flex justify-center mt-6">
      <button
        *ngFor="let page of [1, 2, 3, 4]"
        (click)="changePage(page)"
        [class.bg-green-500]="page === currentPage"
        class="mx-2 px-4 py-2 rounded-full bg-gray-200 hover:bg-green-500 text-gray-800 hover:text-white transition"
      >
        {{ page }}
      </button>
    </div>
  </div>

  <!-- Details Modal -->
  <div
    *ngIf="selectedAppointment"
    class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center transition-opacity duration-300"
  >
    <div class="bg-white rounded-xl shadow-xl p-8 max-w-md w-full transform scale-95 hover:scale-100 transition-transform">
      <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2">Appointment Details</h2>
      <p class="mb-4"><strong>Patient:</strong> {{ selectedAppointment.patient }}</p>
      <p class="mb-4"><strong>Date:</strong> {{ selectedAppointment.date }}</p>
      <p class="mb-4"><strong>Time:</strong> {{ selectedAppointment.time }}</p>
      <p class="mb-4"><strong>Status:</strong> {{ selectedAppointment.status }}</p>
      <p class="mb-4"><strong>Details:</strong> {{ selectedAppointment.details }}</p>
      <button
        (click)="closeDetailsModal()"
        class="mt-6 bg-red-500 text-white px-6 py-2 rounded-full hover:bg-red-600 transition shadow-lg"
      >
        Close
      </button>
    </div>
  </div>
</div>
